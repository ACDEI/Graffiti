<app-navbar></app-navbar>
<!--Filtros Cliente-->
<!--
<div class="row">
    <div class="col-lg-2">
        <button class="btn btn-block btn-dark ml-3 mt-4" style="font-weight: bold;" data-toggle="collapse" 
                    href="#showFilters" aria-expanded="false" aria-controls="collapse-filter">
            Búsqueda 
            <span style="float: right;">
                <i class="fas fa-chevron-down"></i>
            </span>
        </button>
    </div>
</div>

<div id="showFilters" class="collapse">
    <div class="row mt-3">
        <div class="col-lg col-md col-sm">
            <div class="card bg-light">
                <div class="card-body">
                    <h4 class="card-title">Temáticas</h4>
                    <form class="form">
                        <div class="form-group">
                            <div id="row-card" class="row">
                                <div class="col-lg-10">
                                    <select class="form-control" name="theme" [(ngModel)]="theme" (change)="onChange($event.target.value)">
                                        <option *ngFor="let t of themesList" value="{{t.name}}">{{t.name}}</option>
                                    </select>
                                </div>
                                <div class="col-lg-2">
                                    <button (click)="getByTheme()" class="btn btn-primary ml-2"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>      
        </div>
        <div class="col-lg col-md col-sm">
            <div class="card bg-light">
                <div class="card-body">
                    <h4 class="card-title">Graffitero</h4>
                    <form class="form">
                        <div class="form-group">
                            <div id="row-card" class="row">
                                <div class="col-lg-10">
                                    <input type="text" class="form-control" name="graffiterName" (input)="onChange($event.target.value)" [(ngModel)] = "graffiter" placeholder="Graffiter's Name">
                                </div>
                                <div class="col-lg-2">
                                    <button (click)="getByGraffiter()" class="btn btn-primary ml-2"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg col-md-col-sm">
            <div class="card bg-light">
                <div class="card-body">
                    <h4 class="card-title">Estado de Conservación</h4>
                    <form class="form">
                        <div class="form-group">
                            <div id="row-card" class="row">
                                <div class="col-lg-10">
                                <select class="form-control" name="status" (change)="onChange($event.target.value)" [(ngModel)]="status">
                                    <option>Perfect</option>
                                    <option>Legible</option>
                                    <option>Deteriorated</option>
                                    <option>Illegible</option>
                                </select>
                                </div>
                                <div class="col-lg-2">
                                    <button (click)="getByStatus()" class="btn btn-primary ml-2"><i class="fas fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3" *ngIf="isFilter">
        <div class="col-lg col-md col-sm">
            <button class="btn btn-light btn-block" (click)="resetear()">Resetear</button>
        </div>
    </div>
</div>
-->
<div class="row mt-5">
    <div class="col-lg-9">
        <div class="row">
            <div [ngClass]="(!isFilter)?'col-6':'col-5'">
                <div class="card bg-light" style="padding: 10px;">
                    <h5 class="card-title">Temática</h5>
                    <select class="form-control" name="theme" [(ngModel)]="theme" (change)="onChange()">
                        <option *ngFor="let t of themesList" value="{{t.name}}">{{t.name}}</option>
                    </select>
                </div>
            </div>
            <div [ngClass]="(!isFilter)?'col-6':'col-5'">
                <div class="card bg-light" style="padding: 10px;">
                    <h5 class="card-title">Conservación</h5>
                    <select class="form-control" name="status" (change)="onChange()" [(ngModel)]="status">
                        <option *ngFor="let s of stateList" value="{{s}}">{{s}}</option>
                    </select>
                </div>
            </div>
            <div class="col-2" style="align-content: center;" *ngIf="isFilter">
                <img class="btn" style="background-color: white;" (click)="getPublications()" style="height: 85px;" src="assets/images/filter-remove.png"/>
            </div>
        </div>
        <!--ngFor de cards solo si es necesario-->
        <div id="showResultList" class="row mt-4">
            <div class="col-xl-3 col-lg-4 col-md-4 col-sm-6" loading="lazy" *ngFor="let pub of page.data | async">
                <app-card-publication [pubR]='pub'></app-card-publication>
            </div>
        </div>
        <div id="loadMore" class="row mt-2 mb-3"> 
            <button class="btn btn-outline-info" (click)='loadMore()'>
                <i class="fas fa-search-plus"></i> Cargar Más
            </button>
        </div>
    </div>
    <div class="col-lg-3">
        <a class="twitter-timeline" href="https://twitter.com/MalagArt_acdei?ref_src=twsrc%5Etfw">
            Tweets by MalagartG
        </a> 
    </div>
</div>

<!-- Prueba publications authentication -->
  <!--
    <div>
        <button (click)="getQualityAir()">Cargar </button>
    </div>
  -->
  
<!--
<p>Vista usuario logeado</p>
<p>Identificado único de usuario (UID)</p>
<p>{{ uid }}</p>

   <div>
   <p>
    <div>
        <p>
            <button class="login btn btn-danger" (click)="checkToken()">
                Check Token</button></p>

    </div>
    <div>
        <p>
            <button class="login btn btn-danger" (click)="verifyIdToken()">
                Check Valid Token</button></p>

    </div>
-->